<!DOCTYPE html>
    <html lang="{{ page.lang | default: 'en' }}">
    <head>
      <meta charset="UTF-8">
      <title>{{ page.title | default: site.title }}</title>
      <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
      <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
      <link rel="icon" type="image/png" href="/assets/favicon-96x96.png" sizes="96x96" />
      <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
      <link rel="shortcut icon" href="/assets/favicon.ico" />
      <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
      <meta name="apple-mobile-web-app-title" content="Shang" />
      <link rel="manifest" href="/assets/site.webmanifest" />
    </head>
    <body>
      <div class="page-header">
        <nav class="language-switcher">
          {% for lang in site.languages %}
            {% assign lang_data = site.data.locales[lang] %}
            {% if lang != page.lang %}
              <a href="{% if lang == 'en' %}{{ site.baseurl }}{{ page.url | replace: '/cn', '' | remove: '/cn/' }}{% else %}{{ site.baseurl }}/cn{{ page.url | replace: '/cn', '' | remove: '/cn/' }}{% endif %}">{{ lang_data.switch_to | default: lang }}</a>
            {% else %}
              <span>{{ lang_data.name | default: lang }}</span>
            {% endif %}
            {% unless forloop.last %} | {% endunless %}
          {% endfor %}
        </nav>
        {% include header.html %}
        <h1 class="project-name">{{ site.title }}</h1>
        <h2 class="project-tagline">{{ site.description }}</h2>
      </div>
      <div class="main-content">
        {{ content }}
      </div>
      {% include footer.html %}
      <div>Debug page.lang: {{ page.lang }}</div>
      <div>Debug nav: {{ site.data.locales[page.lang | default: 'en'].nav | inspect }}</div>
    </body>
    </html>